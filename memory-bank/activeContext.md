# Активный контекст: MCP-сервер для PydanticAI

## Текущий фокус работы

*   Создание базовой структуры MCP-сервера на Go.
*   Реализация механизма чтения/записи конфигурационных файлов для агентов PydanticAI.
*   Интеграция с PydanticAI для запуска и управления агентами.
*   Детализация архитектурных решений.

## Последние изменения

*   Созданы основные файлы Memory Bank: `projectbrief.md`, `productContext.md`, `systemPatterns.md`, `techContext.md`, `activeContext.md`, `progress.md`.
*   Создана папка `docs` и файлы документации: `architecture.md`, `pydanticai_windows_setup.md`, `mcp_server_tools.md`.
*   Приняты решения по ключевым архитектурным вопросам (взаимодействие Go-Python, управление жизненным циклом, конфигурация, логирование, параллелизм, безопасность, мониторинг).

## Следующие шаги

1.  Обновить `progress.md` в Memory Bank.
2.  Детализировать принятые архитектурные решения в `docs/architecture.md`.
3.  Начать реализацию MCP-сервера на Go.

## Активные решения и соображения

*   **Формат конфигурации:** Подтверждено использование JSON для конфигурационных файлов агентов. Валидация на стороне Python-агента.
*   **Расположение PydanticAI:** PydanticAI будет запускаться "внутри" проекта, что означает, что его файлы будут находиться в поддиректории проекта.
*   **Модульность:** Придерживаться модульного и минималистичного стиля при написании Go-кода.
*   **Взаимодействие Go-Python:** Запуск через `os/exec` с передачей пути к конфигу как аргумента. Перенаправление stdout/stderr агентов в логи Go-сервера.
*   **Управление жизненным циклом:** Отслеживание по PID. Без автоматического перезапуска на первом этапе.
*   **Именование конфигов:** `configs/agents/<agent_id>.json`.
*   **Логирование:** Стандартная библиотека `log` для Go-сервера.
*   **Параллелизм:** Использование `goroutine` для обработки запросов и управления каждым агентом.
*   **Безопасность:** На начальном этапе без сложной аутентификации, предполагается контролируемая среда. Конфиденциальные данные через переменные окружения.
*   **Мониторинг:** Базовый статус "запущен/не запущен" и PID.

## Важные шаблоны и предпочтения

*   Использование стандартных библиотек Go, где это возможно.
*   Четкое разделение ответственности между модулями.
*   Обработка ошибок должна быть явной и информативной.

## Выводы и идеи проекта

*   Важно обеспечить надежную передачу путей к конфигурационным файлам агентам PydanticAI.
*   Рассмотреть возможность использования goroutines для асинхронного запуска и мониторинга агентов.
